<!DOCTYPE html>
<html lang="es_MX">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>{{ if $.Titulo }}{{ $.Titulo }}{{ else }}Pargo{{ end }}</title>
		<link rel="shortcut icon" href="/assets/img/pargo_32.png" type="image/png">
		<link rel="stylesheet" type="text/css" href="/assets/css/estilo.css">
		<link rel="stylesheet" type="text/css" href="/assets/css/fontawesome.min.css">

		<script src="/htmx.min.js"></script>
		<script src="/gecko.js"></script>
		<script src="/assets/js/Sortable.min.js"></script>
		<script defer src="/assets/js/main.js?t=01"></script>
	</head>
	
	<body class="h-full text-white bg-[#091a20]" hx-ext="gecko">
		<div class="flex flex-col overflow-y-auto h-dvh"
		id="contenido" 
		hx-target="#contenido"
		hx-swap="innerHTML show:no-scroll"
		hx-push-url="false"
		hx-history="false"
		hx-indicator="#cargando"
		>
			{{ with $.Contenido }}{{ . }}{{ else }}No content{{ end }}
		</div>

		<!-- htmx-indicator -->
		<style>
			.my-indicator{ display: none; }
			.htmx-request.my-indicator{ display: flex; }
			.htmx-request .my-indicator{ display: flex; }
		</style>
		<div id="cargando" class="fixed top-0 flex items-start justify-center w-full h-screen py-4 rounded-md my-indicator">
			<img src="/assets/img/spinner.svg" alt="Cargando..." class="w-8">
		</div>

	<!-- Toast -->
	<div id="toastContainer" class="fixed top-0 right-0 flex flex-col gap-2 w-64 px-4 py-2 text-black">
		<template id="toastTemplate">
			<div class="relative bg-white/75 rounded-md shadow-md px-3 py-2 after:content-['\00D7'] after:absolute after:top-2 after:right-2 hover:cursor-pointer hover:bg-gray-300">
				<span class="toast-message text-sm"></span>
			</div>
		</template>
	</div>
	<script>
		const toastContainer = document.getElementById('toastContainer');
		function showToast(msg) {
			// Preparar nuevo toast.
			const toastTemplate = document.getElementById('toastTemplate').content.cloneNode(true);
			toastTemplate.querySelector('.toast-message').textContent = msg;
			const toast = toastTemplate.querySelector('div');
			// Quitar con click
			toast.addEventListener('click', () => {
				toastContainer.removeChild(toast);
			});
			// Mostrar al usuario
			toastContainer.appendChild(toast);
			// Quitar automÃ¡ticamente
			setTimeout(() => {
				if (toastContainer.contains(toast)) {
					toastContainer.removeChild(toast);
				}
			}, 6000);
		}
	</script>

	</body>
</html>